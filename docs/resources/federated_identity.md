---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "tailscale_federated_identity Resource - terraform-provider-tailscale"
subcategory: ""
description: |-
  The federated_identity resource allows you to create federated identities to programmatically interact with the Tailscale API using workload identity federation.
---

# tailscale_federated_identity (Resource)

The federated_identity resource allows you to create federated identities to programmatically interact with the Tailscale API using workload identity federation.

## Example Usage

```terraform
resource "tailscale_federated_identity" "example_federated_identity" {
  description = "Example federated identity"
  scopes      = ["auth_keys", "devices:core"]
  tags        = ["tag:test"]
  issuer      = "https://example.com"
  subject     = "example-sub-*"
  custom_claim_rules = {
    repo_name = "example-repo-name"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `issuer` (String) The issuer of the OIDC identity token used in the token exchange. Must be a valid and publicly reachable https:// URL.
- `scopes` (Set of String) Scopes to grant to the federated identity. See https://tailscale.com/kb/1623/ for a list of available scopes.
- `subject` (String) The pattern used when matching against the `sub` claim from an OIDC identity token. Patterns can include `*` characters to match against any character.

### Optional

- `audience` (String) The value used when matching against the `aud` claim from an OIDC identity token. Specifying the audience is optional as Tailscale will generate a secure audience at creation time by default.   It is recommended to let Tailscale generate the audience unless the identity provider you are integrating with requires a specific audience format.
- `custom_claim_rules` (Map of String) A map of claim names to pattern strings used to match against arbitrary claims in the OIDC identity token. Patterns can include `*` characters to match against any character.
- `description` (String) A description of the federated identity consisting of alphanumeric characters. Defaults to `""`.
- `tags` (Set of String) A list of tags that access tokens generated for the federated identity will be able to assign to devices. Mandatory if the scopes include "devices:core" or "auth_keys".

### Read-Only

- `created_at` (String) The creation timestamp of the key in RFC3339 format
- `id` (String) The client ID, also known as the key id. Used with an OIDC identity token to generate access tokens.
- `updated_at` (String) The updated timestamp of the key in RFC3339 format
- `user_id` (String) ID of the user who created this federated identity, empty for federated identities created by other trust credentials.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
terraform import tailscale_federated_identity.example k1234511CNTRL-kZDRvszg8621CNTRL
```
