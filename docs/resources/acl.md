---
page_title: "tailscale_acl Resource - terraform-provider-tailscale"
subcategory: ""
description: |-
  The acl resource allows you to configure a Tailscale policy file. See https://tailscale.com/kb/1395/tailnet-policy-file for more information. Note that this resource will completely overwrite existing policy file contents for a given tailnet.
  If tests are defined in the policy file (the top-level "tests" section), policy file validation will occur before creation and update operations are applied.
---

# tailscale_acl (Resource)

The acl resource allows you to configure a Tailscale policy file. See https://tailscale.com/kb/1395/tailnet-policy-file for more information. Note that this resource will completely overwrite existing policy file contents for a given tailnet.

If tests are defined in the policy file (the top-level "tests" section), policy file validation will occur before creation and update operations are applied.

~> **Note:** The naming of this resource predates Tailscale's usage of the term "policy file" to refer to the centralized configuration file for a tailnet. This resource controls a tailnet's entire policy file and not just the ACLs section within it.

## Example Usage

```terraform
resource "tailscale_acl" "as_json" {
  acl = jsonencode({
    grants : [
      {
        // Allow all users access to all ports.
        src = ["*"],
        dst = ["*"],
        ip  = ["*"],
      },
    ],
  })
}

resource "tailscale_acl" "as_hujson" {
  acl = <<EOF
  {
    // Comments in HuJSON policy are preserved when the policy is applied.
    "grants": [
      {
        // Allow all users access to all ports.
        "src" = ["*"],
        "dst" = ["*"],
        "ip"  = ["*"],
      },
    ],
  }
  EOF
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `acl` (String) The policy that defines which devices and users are allowed to connect in your network. Can be either a JSON or a HuJSON string.

### Optional

- `overwrite_existing_content` (Boolean) If true, will skip requirement to import acl before allowing changes. Be careful, can cause the policy file to be overwritten
- `reset_acl_on_destroy` (Boolean) If true, will reset the policy file for the Tailnet to the default when this resource is destroyed

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
# ID doesn't matter.
terraform import tailscale_acl.sample_acl acl
```
